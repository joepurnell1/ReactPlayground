{"ast":null,"code":"import _regeneratorRuntime from \"/Users/josephpurnell/Development/ReactPlayground/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/josephpurnell/Development/ReactPlayground/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n// See readme for bearer token\nvar bearerToken = \"BQACOu5Fp8MqJMTNLCOawFfRwsRDyHUldf04M1yvc2Q5UHjGRPImLYXGp5fT-HlunfbA7djde5I5lDcDfExyKtO7Hbdguz4IIkCMw8cXJJhTQbCyXXGbLi3EaCFpUN56nDmrQXs4wThNMg\";\n\nfunction getUrl(artist) {\n  var formattedArtist = artist.toLowerCase().replace(/ /g, \"%20\");\n  return \"https://api.spotify.com/v1/search?q=\".concat(formattedArtist, \"&type=artist\");\n}\n\nfunction searchArtist(_x) {\n  return _searchArtist.apply(this, arguments);\n}\n\nfunction _searchArtist() {\n  _searchArtist = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(artist) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (artist) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", []);\n\n          case 2:\n            return _context.abrupt(\"return\", fetch(getUrl(artist), {\n              method: \"GET\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \".concat(bearerToken)\n              }\n            }).then(function (response) {\n              if (response.status !== 200) {\n                throw response();\n              }\n\n              return response.json();\n            }).then(function (data) {\n              return data.artists.items;\n            }).catch(function (errorMessage) {\n              return [\"Error getting artists message is '\".concat(errorMessage, \"'\")];\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _searchArtist.apply(this, arguments);\n}\n\nexport default searchArtist;","map":{"version":3,"sources":["/Users/josephpurnell/Development/ReactPlayground/src/spotifyService.js"],"names":["bearerToken","getUrl","artist","formattedArtist","toLowerCase","replace","searchArtist","fetch","method","headers","Accept","Authorization","then","response","status","json","data","artists","items","catch","errorMessage"],"mappings":";;AAAA;AACA,IAAMA,WAAW,GAAG,gJAApB;;AAEA,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACtB,MAAIC,eAAe,GAAGD,MAAM,CAACE,WAAP,GAAqBC,OAArB,CAA6B,IAA7B,EAAmC,KAAnC,CAAtB;AACA,uDAA8CF,eAA9C;AACD;;SAEcG,Y;;;;;;;2BAAf,iBAA4BJ,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,gBACOA,MADP;AAAA;AAAA;AAAA;;AAAA,6CAEW,EAFX;;AAAA;AAAA,6CAKSK,KAAK,CAACN,MAAM,CAACC,MAAD,CAAP,EAAiB;AAC3BM,cAAAA,MAAM,EAAE,KADmB;AAE3BC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,MAAM,EAAE,kBADD;AAEP,gCAAgB,kBAFT;AAGPC,gBAAAA,aAAa,mBAAYX,WAAZ;AAHN;AAFkB,aAAjB,CAAL,CAQJY,IARI,CAQC,UAAAC,QAAQ,EAAI;AAChB,kBAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,sBAAMD,QAAQ,EAAd;AACD;;AACD,qBAAOA,QAAQ,CAACE,IAAT,EAAP;AACD,aAbI,EAcJH,IAdI,CAcC,UAAAI,IAAI;AAAA,qBAAIA,IAAI,CAACC,OAAL,CAAaC,KAAjB;AAAA,aAdL,EAeJC,KAfI,CAeE,UAAAC,YAAY,EAAI;AACrB,qBAAO,6CAAsCA,YAAtC,OAAP;AACD,aAjBI,CALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAyBA,eAAed,YAAf","sourcesContent":["// See readme for bearer token\nconst bearerToken = \"BQACOu5Fp8MqJMTNLCOawFfRwsRDyHUldf04M1yvc2Q5UHjGRPImLYXGp5fT-HlunfbA7djde5I5lDcDfExyKtO7Hbdguz4IIkCMw8cXJJhTQbCyXXGbLi3EaCFpUN56nDmrQXs4wThNMg\";\n\nfunction getUrl(artist) {\n  let formattedArtist = artist.toLowerCase().replace(/ /g, \"%20\");\n  return `https://api.spotify.com/v1/search?q=${formattedArtist}&type=artist`;\n}\n\nasync function searchArtist(artist) {\n  if (!artist) {\n    return [];\n  }\n\n  return fetch(getUrl(artist), {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${bearerToken}`\n    }\n  })\n    .then(response => {\n      if (response.status !== 200) {\n        throw response();\n      }\n      return response.json();\n    })\n    .then(data => data.artists.items)\n    .catch(errorMessage => {\n      return [`Error getting artists message is '${errorMessage}'`];\n    });\n}\n\nexport default searchArtist;\n"]},"metadata":{},"sourceType":"module"}